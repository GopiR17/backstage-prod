## API Report File for "@backstage/plugin-catalog-starred-entities-backend"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { CompoundEntityRef } from '@backstage/catalog-model';
import express from 'express';
import { Knex } from 'knex';
import { PluginDatabaseManager } from '@backstage/backend-common';
import { Request as Request_2 } from 'express';

// @public
export function createRouter<T>(
  options: RouterOptions<T>,
): Promise<express.Router>;

// @public (undocumented)
export function createStarredEntitiesStore(
  database: PluginDatabaseManager,
): Promise<DatabaseStarredEntitiesStore>;

// @public
export class DatabaseStarredEntitiesStore
  implements StarredEntitiesStore<Knex.Transaction>
{
  // (undocumented)
  static create(knex: Knex): Promise<DatabaseStarredEntitiesStore>;
  // (undocumented)
  getStarredEntities(
    tx: Knex.Transaction,
    opts: {
      userId: string;
    },
  ): Promise<string[]>;
  // (undocumented)
  starEntity(
    tx: Knex.Transaction,
    opts: {
      userId: string;
      entity: CompoundEntityRef;
    },
  ): Promise<void>;
  // (undocumented)
  toggleEntity(
    tx: Knex.Transaction,
    opts: {
      userId: string;
      entity: CompoundEntityRef;
    },
  ): Promise<void>;
  // (undocumented)
  transaction<T>(fn: (tx: Knex.Transaction) => Promise<T>): Promise<T>;
}

// @public (undocumented)
export interface RouterOptions<T> {
  // (undocumented)
  getUserIdFromRequest: (req: Request_2) => Promise<string>;
  // (undocumented)
  starredEntitiesStore: StarredEntitiesStore<T>;
}

// @public
export interface StarredEntitiesStore<Transaction> {
  getStarredEntities(
    tx: Transaction,
    opts: {
      userId: string;
    },
  ): Promise<string[]>;
  starEntity(
    tx: Transaction,
    opts: {
      userId: string;
      entity: CompoundEntityRef;
    },
  ): Promise<void>;
  toggleEntity(
    tx: Transaction,
    opts: {
      userId: string;
      entity: CompoundEntityRef;
    },
  ): Promise<void>;
  // (undocumented)
  transaction<T>(fn: (tx: Transaction) => Promise<T>): Promise<T>;
}

// (No @packageDocumentation comment for this package)
```
