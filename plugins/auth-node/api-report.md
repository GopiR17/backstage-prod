## API Report File for "@backstage/plugin-auth-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { PluginEndpointDiscovery } from '@backstage/backend-common';
import { Request as Request_2 } from 'express';

// @public
export interface BackstageSignInResult {
  token: string;
}

// @public
export class DefaultIdentityClient implements IdentityApi {
  // @deprecated
  authenticate(
    token: string | undefined,
  ): Promise<IdentityApiGetIdentityResult>;
  static create(options: IdentityClientOptions): DefaultIdentityClient;
  // (undocumented)
  getIdentity({
    request,
  }: IdentityApiGetIdentityRequest): Promise<
    | IdentityApiGetIdentityResult<
        IdentityApiUserIdentity | IdentityApiServerIdentity
      >
    | undefined
  >;
}

// @public
export function getBearerTokenFromAuthorizationHeader(
  authorizationHeader: unknown,
): string | undefined;

// @public
export interface IdentityApi {
  getIdentity(
    options: IdentityApiGetIdentityRequest,
  ): Promise<IdentityApiGetIdentityResult | undefined>;
}

// @public
export type IdentityApiGetIdentityRequest = {
  request: Request_2<unknown>;
};

// @public
export type IdentityApiGetIdentityResult<
  IdentityApiIdentity = IdentityApiUserIdentity | IdentityApiServerIdentity,
> = BackstageSignInResult & {
  identity: IdentityApiIdentity;
};

// @public
export type IdentityApiServerIdentity = {
  type: 'server';
};

// @public
export type IdentityApiUserIdentity = {
  type: 'user';
  userEntityRef: string;
  ownershipEntityRefs: string[];
};

// @public @deprecated
export class IdentityClient {
  // @deprecated
  authenticate(
    token: string | undefined,
  ): Promise<IdentityApiGetIdentityResult>;
  // (undocumented)
  static create(options: IdentityClientOptions): IdentityClient;
}

// @public
export type IdentityClientOptions = {
  discovery: PluginEndpointDiscovery;
  issuer?: string;
  algorithms?: string[];
};

// @public (undocumented)
export const isIdentityApiServerIdentityResult: (
  result: IdentityApiGetIdentityResult | undefined,
) => result is IdentityApiGetIdentityResult<IdentityApiServerIdentity>;

// @public (undocumented)
export const isIdentityApiUserIdentityResult: (
  result: IdentityApiGetIdentityResult | undefined,
) => result is IdentityApiGetIdentityResult<IdentityApiUserIdentity>;
```
